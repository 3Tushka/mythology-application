<div class="article-wrapper">
  <app-navbar></app-navbar>
  <!-- <div class="art" *ngIf="data?.category == 'Vampires'"> -->
  <div class="article-link">
    <mat-icon routerLink="/admin-table/articles-admin" *ngIf="isAdmin == true">
      keyboard_arrow_left
    </mat-icon>
  </div>
  <div class="article-detail" *ngIf="data">
    <!--  -->

    <div class="article-detail__header">
      <div class="article-detail__header__info">
        <div class="article-detail__header__info__title">
          <h2>{{ data.title }}</h2>
          <h3>{{ data.category }}</h3>
        </div>
        <p class="article-detail__details">{{ data.temper }}</p>
        <p class="article-detail__details">{{ data.origin }}</p>
        <p class="article-detail__details">{{ data.location }}</p>
        <p class="article-detail__details">{{ data.amulet }}</p>
        <p class="article-detail__details">{{ data.appointment }}</p>
        <p class="article-detail__details">{{ data.fairing }}</p>
        <p class="article-detail__details">{{ data.magicaItem }}</p>
      </div>
      <div class="article-detail__header__image">
        <img src="../../assets/images/Без імені.jpg" alt="article image" />
      </div>

      <!--  -->
    </div>
    <div class="article-detail__content">
      <p [innerHTML]="data.content"></p>
    </div>
    <div class="article-detail__comments">
      <button mat-raised-button color="primary" [routerLink]="['comments']">
        Go to Comments
      </button>
    </div>
    <div class="article-detail__controll" *ngIf="isAdmin == true">
      <button
        mat-raised-button
        color="primary"
        (click)="showForm = true"
        *ngIf="showForm == false"
      >
        Update
      </button>
      <div class="article-detail__form-box" *ngIf="showForm">
        <form
          [formGroup]="updateForm"
          class="article-detail__form"
          (ngSubmit)="updateModel()"
        >
          <div class="article-detail__form-title">
            <h2>Update article</h2>
            <button
              class="close"
              mat-icon-button
              (click)="showForm = false"
              *ngIf="showForm == true"
            >
              <mat-icon>close</mat-icon>
            </button>
          </div>
          <mat-form-field>
            <mat-label>Title</mat-label>
            <input
              type="text"
              formControlName="title"
              class="form-control"
              placeholder="Title"
              matInput
              required
            />
            <mat-error *ngIf="updateForm.invalid">Title is required</mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Content</mat-label>
            <textarea
              type="text"
              formControlName="content"
              class="form-control"
              placeholder="Content"
              matInput
              cols="35"
              rows="8"
              required
            ></textarea>
            <mat-error *ngIf="updateForm.invalid"
              >Content is required</mat-error
            >
          </mat-form-field>

          <mat-form-field>
            <mat-label>Content</mat-label>
            <input
              type="text"
              formControlName="category"
              class="form-control"
              placeholder="Category"
              matInput
              required
            />
            <mat-error *ngIf="updateForm.invalid"
              >Category is required</mat-error
            >
          </mat-form-field>

          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="updateForm.invalid"
          >
            Submit
          </button>
        </form>
      </div>

      <button
        mat-raised-button
        color="warn"
        type="submit"
        (click)="delete(data.id)"
        *ngIf="showForm == false"
      >
        Delete
      </button>
    </div>
  </div>
  <app-footer></app-footer>
  <!-- </div> -->
</div>
